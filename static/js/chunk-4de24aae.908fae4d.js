(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4de24aae"],{"68e3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.stock?a("div",{staticClass:"stock_page position-relative container mt-3 ml-5",staticStyle:{padding:"0px 50px"}},[a("div",{staticClass:"arrows"},[t.isFirst?t._e():a("i",{staticClass:"fas fa-angle-left fa-3x",on:{click:function(e){return t.goTo("previous")}}}),t.isLast?t._e():a("i",{staticClass:"fas fa-angle-right fa-3x",on:{click:function(e){return t.goTo("next")}}})]),a("h3",[t._v("A page for a single stock of type "+t._s(t.stockType))]),a("div",{staticClass:"flex"},[a("div",{staticClass:"box text-center"},[a("i",{class:"icon fa-2x "+t.iconsMap[t.stockType]}),a("h3",{staticClass:"stock_item",on:{click:function(e){return t.setCurrentField("name")}}},[t._v(t._s(t.stock.name))]),a("div",{staticClass:"stock_item",on:{click:function(e){return t.setCurrentField("description")}}},[t._v(t._s(t.stock.description))]),a("hr"),a("div",{staticClass:"flex_between controls_container",on:{click:function(e){return t.setCurrentField("amount")}}},[a("div",{staticClass:"controls"},[a("div",{staticClass:"bold"},[t._v("Amount")]),a("div",[t._v(t._s(t.stock.amount))])]),a("i",{staticClass:"fas fa-angle-right fa-lg"})]),a("div",{staticClass:"flex_between controls_container",on:{click:function(e){return t.setCurrentField("costPerPackage")}}},[a("div",{staticClass:"controls"},[a("div",{staticClass:"bold"},[t._v("Cost Per Package")]),a("div",[t._v(t._s(t.stock.costPerPackage))])]),a("i",{staticClass:"fas fa-angle-right fa-lg"})]),"food"===t.stockType?a("div",{staticClass:"flex_between controls_container",on:{click:function(e){return t.setCurrentField("caloriesPerPackage")}}},[a("div",{staticClass:"controls"},[a("div",{staticClass:"bold"},[t._v("Calories Per Package")]),a("div",[t._v(t._s(t.stock.caloriesPerPackage))])]),a("i",{staticClass:"fas fa-angle-right fa-lg"})]):t._e(),"water"===t.stockType?a("div",{staticClass:"flex_between controls_container",on:{click:function(e){return t.setCurrentField("millilitrePerPackage")}}},[a("div",{staticClass:"controls"},[a("div",{staticClass:"bold"},[t._v("Millilitre Per Package")]),a("div",[t._v(t._s(t.stock.millilitrePerPackage))])]),a("i",{staticClass:"fas fa-angle-right fa-lg"})]):t._e()]),t.currentField?a("div",{staticClass:"box"},[a("div",[a("h3",[t._v(t._s(t.currentField))]),a("div",{staticClass:"form-group"},["checkbox"===t.inputTypesMap[t.currentField]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t.inputVal},on:{change:function(e){var a=t.inputVal,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,c=t._i(a,n);i.checked?c<0&&(t.inputVal=a.concat([n])):c>-1&&(t.inputVal=a.slice(0,c).concat(a.slice(c+1)))}else t.inputVal=s}}}):"radio"===t.inputTypesMap[t.currentField]?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.inputVal,null)},on:{change:function(e){t.inputVal=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"form-control",attrs:{type:t.inputTypesMap[t.currentField]},domProps:{value:t.inputVal},on:{input:function(e){e.target.composing||(t.inputVal=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.save()}}},[t._v("Save")])])]):t._e()])]):t._e()},s=[],n=(a("c740"),a("5530")),c=(a("96cf"),a("1da1")),r=a("3338"),o=a("2f62"),l=a("41cb"),u={data:function(){return{isFirst:null,isLast:null,inputTypesMap:{caloriesPerPackage:"number",costPerPackage:"number",amount:"number",millilitrePerPackage:"number",name:"text",description:"text"},iconsMap:{food:"fas fa-pizza-slice",water:"fas fa-water",medicine:"fas fa-pills",weapon:"fas fa-bolt"},inputVal:"",stockType:"",currentField:null}},mounted:function(){this.getCurrentStock({loadAll:!0})},methods:{getCurrentStock:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i,s,n,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.loadAll,s=e.$router.currentRoute.params,n=s.stock,c=s.id,e.id=c,e.stockType=n,e.$store.dispatch("getOneStock",{stock:n,id:c}),!i){a.next=9;break}return a.next=8,r["a"].get(e.stockType);case 8:e.allStocks=a.sent.data.stocks;case 9:o=e.allStocks.findIndex((function(t){return t.id===+e.id})),e.isFirst=0===o,e.isLast=o===e.allStocks.length-1,e.currentStockIndex=o;case 13:case"end":return a.stop()}}),a)})))()},goTo:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:"next"!==t||e.isLast||(i=e.allStocks[e.currentStockIndex+1]),"previous"!==t||e.isFirst||(i=e.allStocks[e.currentStockIndex-1]),l["a"].push({name:"Stock",params:{stock:e.stockType,id:i.id}});case 3:case"end":return a.stop()}}),a)})))()},save:function(){this.$store.dispatch("updateStock",{stock:this.stock,field:this.currentField,value:this.inputVal}),this.currentField=null},setCurrentField:function(t){this.currentField=t,this.inputVal=this.stock[t]}},computed:Object(n["a"])({},Object(o["b"])({stock:"stock"})),updated:function(){console.log("updated")},watch:{$route:function(t,e){this.getCurrentStock({loadAll:!1})}}},d=u,p=a("2877"),f=Object(p["a"])(d,i,s,!1,null,null,null);e["default"]=f.exports},c740:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").findIndex,n=a("44d2"),c=a("ae40"),r="findIndex",o=!0,l=c(r);r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)}}]);
//# sourceMappingURL=chunk-4de24aae.908fae4d.js.map