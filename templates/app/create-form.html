{% extends "layouts/default.html" %}
{% block title %}Create{% endblock %}

{% block content %}

<form method="POST" action="/app/create" class="form-group">
  <label>Stock category:</label>

  <select name="stock-category" id="stockCategory" class="form-control" required>
    <option disabled selected value> -- Select an option -- </option>
    <option value="food">Food</option>
    <option value="water">Water</option>
    <option value="medicine">Medicine</option>
    <option value="weapon">Weapon</option>
  </select>
  
  <br>
  <label>Name</label>
  <br>
  <input type="text" name="name" required class="form-control">
  <br>
  <label>Description</label>
  <br>
  <input type="text" name="description" class="form-control">
  <br>
  <label>Amount</label>
  <br>
  <input type="number" name="amount" required class="form-control">
  <br>
  <label>Cost per package</label>
  <br>
  <input type="number" step="0.01" min="0"
         name="cost-per-package" required class="form-control">
  <br>

  <span id="caloriesPerPackageInput">
    <label>Calories per package</label>
    <br>
    <input type="number" name="calories-per-package" class="form-control">
    <br>
  </span>

  <span id="millilitrePerPackageInput">
    <label>Millilitre per package</label>
    <br>
    <input type="number" name="millilitre-per-package" class="form-control">
    <br>
  </span>
  
  <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script>$(document).ready(() => {
    const caloriesPerPackageInput = '#caloriesPerPackageInput';
    const millilitrePerPackageInput = '#millilitrePerPackageInput';
    
    const stockCategory = '#stockCategory';

    $(caloriesPerPackageInput).hide();
    $(millilitrePerPackageInput).hide();
    
    $(stockCategory).change(() => {
        const stockCategoryValue = $(stockCategory).val();

        if (stockCategoryValue === 'food') {
            $(millilitrePerPackageInput).hide();
            $(caloriesPerPackageInput).show();
        }

        else if (stockCategoryValue === 'water') {
            $(caloriesPerPackageInput).hide();
            $(millilitrePerPackageInput).show();
        }

        else {
            $(caloriesPerPackageInput).hide();
            $(millilitrePerPackageInput).hide();
        }

    });
});
</script>

{% endblock %}
